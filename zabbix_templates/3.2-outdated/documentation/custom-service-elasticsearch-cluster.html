<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<style type="text/css">

   p.desc{
     white-space:nowrap;
   }

   table.pretty {
    margin: 1em 1em 1em 2em;
    background: whitesmoke;
    border-collapse: collapse;
   }

   table.pretty th, table.pretty td {
    border: 1px gainsboro solid;
    padding: 0.2em;
   }

   table.pretty th {
    background: gainsboro;
    text-align: left;
   }

   table.pretty caption {
    margin-left: inherit;
    margin-right: inherit;
    white-space:nowrap;
   }
  </style>
<body>
<h2>Macro Overview</h2>

  The following macros can be overloaded on host level.
  <table class="pretty">
<tr>
<th>Name</th><th>Default</th>
</tr>
</table>
<h1>Static Elements</h1>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>Elasticsearch Cluster in {ITEM.LASTVALUE} state</td><td>The cluster health status is: green, yellow or red. On the shard level, a red status indicates that the specific shard is not allocated in the cluster, yellow means that the primary shard is allocated but replicas are not, and green means that all shards are allocated. The index level status is controlled by the worst shard status. The cluster status is controlled by the worst index status.</td><td style="background-color:#FF0000;">Average</td><td><tt>{Custom - Service - Elasticsearch Cluster:elasticsearch[cluster,status].last(0)}=1</tt></td><td><tt>Elasticsearch Cluster in {ITEM.LASTVALUE} state<br>
</tt></td>
</tr>
<tr>
<td>Elasticsearch Cluster in {ITEM.LASTVALUE} state</td><td>The cluster health status is: green, yellow or red. On the shard level, a red status indicates that the specific shard is not allocated in the cluster, yellow means that the primary shard is allocated but replicas are not, and green means that all shards are allocated. The index level status is controlled by the worst shard status. The cluster status is controlled by the worst index status.</td><td style="background-color:#FF0000;">High</td><td><tt>{Custom - Service - Elasticsearch Cluster:elasticsearch[cluster,status].last(0)}=2</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>ELK Shards</td><td><tt>elasticsearch[cluster,active_primary_shards]<br>elasticsearch[cluster,active_shards]<br>elasticsearch[cluster,initializing_shards]<br>elasticsearch[cluster,relocating_shards]<br>elasticsearch[cluster,unassigned_shards]<br>
</tt></td>
</tr>
<tr>
<td>ELK Usage</td><td><tt>elasticsearch[cluster,size_in_bytes]<br>elasticsearch[cluster,count]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Number of active primary shards</td><td><tt>elasticsearch[cluster,active_primary_shards]</tt></td><td></td><td>600</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Number of active shards</td><td><tt>elasticsearch[cluster,active_shards]</tt></td><td></td><td>600</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Total number of records</td><td><tt>elasticsearch[cluster,count]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Cluster-wide records indexed per second</td><td><tt>elasticsearch[cluster,index_total]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Number of initializing shards</td><td><tt>elasticsearch[cluster,initializing_shards]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Number of data nodes</td><td><tt>elasticsearch[cluster,number_of_data_nodes]</tt></td><td></td><td>600</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Number of nodes</td><td><tt>elasticsearch[cluster,number_of_nodes]</tt></td><td></td><td>600</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Number of relocating shards</td><td><tt>elasticsearch[cluster,relocating_shards]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Cluster-wide storage size</td><td><tt>elasticsearch[cluster,size_in_bytes]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>ElasticSearch Cluster Status</td><td><tt>elasticsearch[cluster,status]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
<tr>
<td>
<p class="desc">ERROR - Unknown</p>
</td><td>Number of unassigned shards</td><td><tt>elasticsearch[cluster,unassigned_shards]</tt></td><td></td><td>300</td><td>14</td><td>90</td>
</tr>
</table>
</body>
</html>
